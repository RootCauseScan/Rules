rules:
  - id: useless-literal
    message: key `$X` is uselessly assigned twice
    languages: [python]
    severity: WARNING
    patterns:
      - pattern-either:
          - pattern: "{..., $X: $A, ..., $X: $B, ...}"
          - pattern: "dict(..., $PAIR1, ..., $PAIR2, ...)"
      - metavariable-pattern:
          metavariable: $PAIR1
          pattern: ($X, $A)
      - metavariable-pattern:
          metavariable: $PAIR2
          pattern: ($X, $B)
      - focus-metavariable: $X
    metadata:
      category: maintainability
      references:
        - https://docs.python.org/3/library/stdtypes.html#mapping-types-dict
      technology:
        - python
